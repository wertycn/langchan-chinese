# MapReduce

map reduce文档链首先对每个文档单独应用LLM链（Map步骤），将链的输出视为新文档。然后将所有新文档传递给一个单独的合并文档链以获得单一输出（Reduce步骤）。如果需要，它可以选择首先压缩或合并映射的文档，以确保它们适合合并文档链（通常会将它们传递给LLM）。如果有必要，此压缩步骤将递归执行。

![map_reduce_diagram](/img/map_reduce.jpg)